@model IEnumerable<TimetableSystem.Models.Module>

@{
    ViewBag.Title = "View Modules";
}

<div class="buttons-wrapper bar">
    <div>
        <button>Filter</button>
    </div>
    <div>
        <button>Reset</button>
    </div>
</div>

<script type="text/javascript">
    function filter() {
        document.getElementById('moduleCode').value = document.getElementById('codeInput').value;
        document.getElementById('moduleTitle').value = document.getElementById('titleInput').value;
    }
    function clear() {
        document.getElementById('moduleCode').value = "";
        document.getElementById('moduleTitle').value = "";
        filter();
    }
</script>

@*<h3>Total: @Model.Count()</h3>*@
@*<h2>Module Page</h2>*@

<!-- the new table -->
@*<fieldset>
    <h2>Module code & title</h2>
    @foreach (var item in Model)
    {
        <div class="field">
            <div class="editor-label">
                @Html.DisplayFor(modelItem => item.ModuleCode)
            </div>
            <div class="editor-field">
                <div class="editor-field-inner" style="float:left;">
                    @Html.DisplayFor(modelItem => item.ModuleTitle)
                </div>
            </div>
        </div>
    }
</fieldset>*@

<fieldset>
    <h2>Module code</h2>
    <form id="codeForm" name="codeForm" action="#">
        <input id="codeInput" name="codeInput" type="text" class="filter" 
            onchange="filter();" />
    </form>

    @foreach (var item in Model)
    {
        <div class="field">
            <div class="editor-label">@Html.DisplayFor(modelItem => item.ModuleCode)</div>
        </div>
    }
</fieldset>

<fieldset>
    <h2>Module title</h2>

    <input id="titleInput" name="titleInput" type="text" class="filter" onchange="filter();" /> 
    @foreach (var item in Model)
    {
        <div class="field">
            <div class="editor-label">@Html.DisplayFor(modelItem => item.ModuleTitle)</div>
        </div>
    }
</fieldset>

<fieldset class="modulesFieldset">
    <div class="field" style="border:0;">
        @Html.ActionLink("Create New", "Edit", new {}, new { @class = "button1" })
    </div>
    <div class="field" style="border:0;">
         @using (Html.BeginForm("Index", "Module", new { name = "hiddenForm" }, FormMethod.Get))
        {
            <input type="hidden" id="moduleCode" name="moduleCode" />
            <input type="hidden" id="moduleTitle" name="moduleTitle" />
            <input type="submit" value="Filter" class="button" style="padding:5px;" />
            <input type="submit" value="Reset" class="button" style="padding:5px;" onclick="clear();" />
        }
       
    </div>
    @foreach (var item in Model)
    {
        <div class="field" style="border:0;">
            <div class="editor-label">
                <div class="editor-label">@Html.ActionLink("Edit", "Edit", new { id = item.ModuleID }, new { @class = "button" }) | 
                  @Html.ActionLink("Delete", "Delete", new { id = item.ModuleID }, new { onclick = "return confirm('Are you sure you wish to delete this module?');", @class = "button" }) </div>
            </div>
        </div>
    }
</fieldset>